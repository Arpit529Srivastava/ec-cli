name: ec create-pr
synopsis: |
  Create a PR based on the changes in the specified branch targeting the specified branch
description: |-
  Performs the following:
  - Clones the provided repository
  - Creates a branch with specified name
  - Applies the given patch file
  - Adds and commits the given file changes
  - Push changes to the remote repository
  - Creates a PR for the target branch
usage: ec create-pr [flags]
options:
- name: body
  default_value: This is an automated PR generated by Enterprise Contract
  usage: The body of the PR
- name: branch-name
  usage: Branch to create the PR from
- name: destination-branch
  default_value: main
  usage: The branch to create the PR for
- name: help
  shorthand: h
  default_value: "false"
  usage: help for create-pr
- name: patch
  usage: The path to the diff file
- name: repo
  usage: The URL of the component repo
- name: title
  default_value: Enterprise Contract Automated Update
  usage: The title of the PR
inherited_options:
- name: debug
  default_value: "false"
  usage: |
    same as verbose but also show function names and line numbers
- name: quiet
  default_value: "false"
  usage: less verbose output
- name: verbose
  default_value: "false"
  usage: more verbose output
example: |2
    ec-cli create-automated-pr --repo https://github.com/example/repo --destination-branch main --branch-name <branch name pr is based on> --title <pr title> --body <pr body> --patch <path/to/patch/file>
see_also:
- ec - Tool to enforce enterprise contracts

name: ec create-pr
synopsis: |
    Create a GitHub pull request based on source and target branches
description: |-
    Create a GitHub pull request based on source and target branches

    The following steps are performed to create a pull request:
      - Clone the provided remote repository (--repo)
      - Create a branch with specified name (--branch-name)
      - Apply the given patch file (--patch)
      - Add and commit any files changes
      - Push newly created branch to the remote repository
      - Create a pull request for the target branch (--desitination-branch)

    The environment variables GITHUB_USERNAME and GITHUB_TOKEN must be set accordingly.
usage: ec create-pr [flags]
options:
    - name: body
      default_value: This is an automated PR generated by Enterprise Contract
      usage: body of the PR
    - name: branch-name
      usage: branch to create with patch changes
    - name: destination-branch
      default_value: main
      usage: target branch for PR
    - name: help
      shorthand: h
      default_value: "false"
      usage: help for create-pr
    - name: patch
      usage: path to the patch file
    - name: repo
      usage: repo URL
    - name: title
      default_value: Enterprise Contract Automated Update
      usage: title of the PR
inherited_options:
    - name: debug
      default_value: "false"
      usage: |
        same as verbose but also show function names and line numbers
    - name: quiet
      default_value: "false"
      usage: less verbose output
    - name: verbose
      default_value: "false"
      usage: more verbose output
example: '  ec-cli create-pr --repo https://github.com/example/repo --branch-name <new branch name> --patch <path/to/patch/file>'
see_also:
    - ec - Enterprise Contract CLI
